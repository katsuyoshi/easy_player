# Easy Player

楽器演奏の上達には日々の練習が必要で、なかなか上達せず諦めてしまうことが多いのではないでしょうか。  
Easy Playerは演奏が上手になれず諦めてしまった方にも、演奏の楽しさを体験できることを目指しています。  
Easy PlayerはM5Stackを使って演奏します。  

## 開発環境

Mac上でVisual ColdのPlatformIO拡張機能をインストールした環境でビルドしています。
PlatformIOについてQiitaに素晴らしい記事があるので、参考にしてください。

https://qiita.com/search?q=platformio+m5stack

PlatformIOでビルドしM5Stackにインストールします。

## 演奏方法

M5Stackのボタンを使って演奏します。  

- Aボタン
    - 予めメロディーが登録されていて、Aボタンを押すと次の音に切り替わります。  
    - 音の長さはAボタンを押す間隔で決まります。  
    - 自分のフィリーングでAボタンを押して演奏している雰囲気を味わいましょう。  
- Bボタン
    - ボリュームが1つ増えます。
    - 初期値は0で音が鳴りませんので、最初に何回か押してください。
    - 最大値の次は0に戻ります。
    - 右のバーで現在値が表示されます。  
- Cボタン
    - 音が停止します。タイミング良く押すとスタッカートやシャッフル感をだすことができるかもしれません。  

## 曲の登録

[src/melody.h](src/melody.h)のnotesが演奏データになります。

```
int16_t notes[] = {
	65, 62, 60, 65, 62, 60, 65, 67,
	69, 72, 69, 69, 67, 65, 67, 72,
	72, 69, 74, 72, 69, 65, 67, 69,
	62, 60, 65,
};
```

src/melody.hはRubyスクリプト[melody.rb](melody.rb)を実行すると生成されます。

```
% ruby melody.rb
```

[melody.rb](melody.rb)の最後のところでメロディを変換しています。  
ここではzousan変数に、「ぞうさん」のメロディが入っています。  

```
zousan = "F4DC FDC FGAC5A4AGFG C5CA4 D5CA4F GADCF"
define_melody zousan
```

メロディは 音階 + オクターブ(省略可能)　で表されています。
音階は C C# D D# E F F# G G# A A# B が12音階を示します。Rは休符です。  
オクターブはセンターのドが 4 になり、オクターブずれると 1 増減します。オクターブが指定されない場合は直前のデータと同じになります。初期値は4です。

例) センターのドは C4 になります。


## ライセンス

[MIT](LICENSE)